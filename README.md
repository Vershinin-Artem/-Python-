# Решение заданий на Python
<details>
<summary>Решение заданий из тренажера <a href="https://lab.karpov.courses/learning/152/](https://lab.karpov.courses/learning/243/)">Karpov.Courses</a>  </summary>

<details>
  <summary>Переменные и основные типы данных</summary>
  

**Задание №1**

Давайте запрограммируем кота! Создайте три переменные: 

**cat_name**  со строкой как минимум из двух символов

**cat_age** с неотрицательным числом

**is_fluffy** с True или False

Решение:
```python
cat_name = 'Сеня'
cat_age = 9
is_fluffy = False
```

**Задание №2**

Давайте напишем программу для поиска длины гипотенузы. В переменных **a** и **b** уже записаны длины катетов прямоугольного треугольника. Создайте новую переменную c и сохраните в нее длину гипотенузы этого треугольника. 

Решение:
```python
c = (a**2 + b**2)**0.5
```

**Задание №3**

В переменной **father_age** хранится возраст отца, а в переменной **son_age** — возраст сына. Посчитайте, через сколько лет отец будет вдвое старше сына. Результат сохраните в переменную **result**.

Решение:
```python
result = father_age - 2 * son_age
```

**Задание №4**

Заданы вещественные числа **a**, **b** и **с** – стороны треугольника. Вычислите периметр и площадь треугольника. Результат сохраните в переменные **perimeter** и **area** соответственно.

Решение:
```python
perimeter  = a + b + c
p = (a + b + c) / 2
area  = (p * (p-a) * (p-b) * (p-c))**0.5
```

**Задание №5**

В переменную **n** сохранено целое число — количество секунд. Напишите программу, которая конвертирует заданное количество секунд **n** в часы, минуты и секунды. Результат сохраните в переменные **hours**, **minutes**, **seconds**.

То есть сначала нужно посчитать, сколько в число n поместилось целых часов, целых минут и сколько после этого осталось секунд. 

Решение:
```python
hours =  n // 3600
minutes = (n % 3600) //60
seconds = (n % 60)
```

**Задание №6**

В переменной **price_new** хранится цена килограмма бананов в числовом формате, а в переменной **price_old** — цена килограмма бананов год назад. Вычислите, на сколько процентов по модулю изменилась цена за год. Результат сохраните в переменную **result**. Результат округлите до двух знаков после запятой. 

Решение:
```python
result =  round(abs((price_new - price_old)/price_old *100), 2)
```

**Задание №7**

Создайте переменные:

**a** со значением 5 типа **int**,

**b** со значением "10" типа **str**,

c со значением True типа bool.

В переменную **my_sum** сохраните сумму трех переменных, которые вы создали, преобразовав значения переменных **b** и **с** к типу **int**. Сами переменные **b** и **c** изменять не надо.

Решение:
```python
a = (5)
b = '10'
c = True
my_sum = a + int(b) + int(c)
```

**Задание №8**

В переменной **a** сохранено число с десятичной частью но в формате строки, например '3.14'. В переменную с сохраните целую часть из числа в переменной **a**.

Решение:
```python
c = int(float(a))//(1)
```

**Задание №9**

В переменной **х** уже сохранено целое положительное число. Вычислите **x + x0x0x**. Результат сохраните в переменную **result**.

То есть, если x = 2, то нужно вычислить 2 + 20202.

Решение:
```python
# Создание x0x0x в виде строки
x0x0x = str(x) + '0' + str(x) + '0' + str(x)  # Получаем строку '10101'

# Преобразуем x0x0x обратно в целое число и складываем с x
result = x + int(x0x0x)
```

**Задание №10**

В переменной **m** хранится целое положительное число — продолжительность сна в минутах. Если продолжительность сна составит от 7 до 9 часов включительно, то в переменную **optimal_sleep_duration** сохраните значение True. В противном случае присвойте этой переменной значение False.

Решение:
```python
optimal_sleep_duration = m >= 420 and m <= 540
```

**Задание №11**

В переменной **x** хранится целое число. Проверьте, делится ли это число без остатка на 3 и на 7. Результат сохраните в переменную **result**. Переменная **result** должна иметь логический тип данных.

Решение:
```python
result = (x % 3) == 0 and x % 7 == 0
```

**Задание №12**

Сохраните в переменную **square** строку, которая выводит на экран прямоугольник 4 х 4, сформированный из звездочек, разделенных пробелом. В каждой строке пробелы допускаются только между символами *, в начале или конце строки пробелы не нужны. В конце последней строки также не должно быть никаких лишних символов или переноса строки. Последним символом строки должен быть символ *.

Решение:
```python
square = '* * * *\n* * * *\n* * * *\n* * * *'
print(square)
```
</details>

  
<details>
  <summary>Списки и множества</summary>
  

**Задание №1**

В **my_list** сохранен список как минимум с двумя элементами.

В переменную **first_item** сохраните первый элемент списка.

В переменную **last_item** сохраните последний элемент списка.

В переменную **reversed_list** сохраните все элементы списка **my_list** в обратном порядке.

В переменную **even_items** сохраните все элементы **my_list** с четными индексами.

Решение:
```python
first_item = my_list[0]

i = len(my_list)
last_item = my_list[i-1]

reversed_list = my_list[:: -1]

even_items = my_list[::2]
```

**Задание №2**

В переменную **var_1* сохраните список с числами от -100 до 100 включительно с шагом в 1.

В переменную **var_2** сохраните список с числами от 250 до 0 включительно с шагом в 2.

В переменную **var_3** сохраните список со всеми нечетными числами от 100 до 200.

Решение:
```python
var_1 = list(range(-100, 101, 1))
var_2 = list(range(250, -1, -2))
var_3 = [num for num in range(101, 200, 2 )]
```

**Задание №3**

В переменных  **a** и **b** хранятся числа — начало и конец диапазона. Напишите программу, которая вернет сумму всех чисел из этого диапазона. Сохраните значение в переменную **result**. 

Решение:
```python
result = sum(range(a, b + 1))
```

**Задание №4**

Давайте потренируемся использовать различные методы списков. В переменной **my_list** сохранен не пустой список, в котором есть число 11. 

Найдите первый индекс числа 11 в **my_list**, сохраните индекс в переменную **eleven_index**.  

В переменную **ten_count** сохраните, сколько раз в списке **my_list** встречается число 10.

Решение:
```python
eleven_index = my_list.index(11, 0)
ten_count = my_list.count(10)
```

**Задание №5**

В **student_names** сохранен список с именами студентов, добавьте в список два имени **'Anatoly'** и **'Oksana'**.

В scores сохранен список из десяти целых чисел, удалите из него второй, пятый и последний элемент из исходного списка. Будьте внимательны, если вы, например, сначала удалите второй элемент, то индекс пятого элемента из сходного списка сместится.

В **lessons** сохранен список с названием уроков, отсортируйте названия уроков в списке по алфавиту.

Решение:
```python
student_names.extend(['Anatoly', 'Oksana'])

scores.pop(1)
scores.pop(3)
scores.pop(7)

lessons.sort()
```

**Задание №6**

Создайте кортеж с названиями дней недели и сохраните его в переменную **days_of_the_week**.

Решение:
```python
days_of_the_week = ('Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday')
```

**Задание №7**

В переменной **numbers_list** сохранен список с целыми числами. В списке минимум два разных целых числа.

В переменную **numbers_list_ordered** сохраните все числа из списка **numbers_list**, отсортированные по убыванию. При этом сам список **numbers_list** не должен изменяться.

В переменную **numbers_set** сохраните множество из уникальных чисел из списка **numbers_list**. Дополните это множество следующим целым числом после максимального числа из **numbers_list**.

В переменную **numbers_frozenset** сохраните неизменяемое множество из всех уникальных чисел из списка **numbers_list**, кроме минимального числа.

Решение:
```python
numbers_list_ordered = numbers_list.copy()
numbers_list_ordered.sort(reverse=True)

numbers_list_1 = numbers_list.copy()
numbers_list_1.append(max(numbers_list_1) + 1)
numbers_set = set(numbers_list_1)

m = min(numbers_list)
numbers_frozenset = set(numbers_list)
numbers_frozenset.discard(m)
numbers_frozenset = frozenset(numbers_frozenset)
```

**Задание №8**

Даны два списка **list_1** и **list_2**. Отсортируйте **list_1** по возрастанию, а **list_2** по убыванию. 
Объедините **list_1** и **list_2** в один отсортированный по возрастанию список **list_3**.  
В переменную **list_3_len** сохраните длину  **list_3**. 

Решение:
```python
list_1 = sorted(list_1)

list_2 = sorted(list_2, reverse=True)

list_3 = sorted(list_1 + list_2) 

list_3_len = list_3.copy()
list_3_len = len(list_3)
```

**Задание №9**

В переменной **menu** хранится множество всех позиций меню кофейни, а в переменной **stop** — множество позиций меню кофейни, недоступных для заказа сегодня. Сохраните в переменную **menu_today** позиции меню, которые доступны для заказа сегодня.  

Решение:
```python
menu_today  = menu.difference(stop)
```

**Задание №10**

В переменной **my_set** множество (**set**) из чисел. В переменной **to_delete** число, которое нужно удалить из **my_set**, если оно там есть. Если такого числа нет в **my_set** ничего делать не надо.

Решение:
```python
my_set.discard(to_delete)
```

**Задание №11**

В **students** хранится множество студентов it-центра МАИ. Студент, имя которого записано в **new_student**, перевелся в МАИ из другого института, его имя нужно добавить в **students**. В переменной **churn_student** — студент, который хочет перевестись из МАИ в другой институт, его имя нужно убрать из **students**. 

Решение:
```python
students.add(new_student)
students.remove(churn_student)
```

**Задание №12**

В переменной **da_students** хранятся имена студентов курса "Аналитик данных", а в переменной **dv_students** — имена студентов курса "Визуализация данных". Сохраните в переменную **students** студентов, которые обучаются на обоих курсах.

Порядок элементов в students не имеет значения.

Решение:
```python
students = da_students.intersection(dv_students)
```

**Задание №13**

В переменной a хранится список целых неотрицательных чисел. Количество чисел четное.
Напишите программу, которая будет делить этот список пополам, определять суммы чисел в половинах списка (**sum_left** и **sum_right**). Если **sum_left** равно **sum_right**, то сохраните в переменную **result** значение **True**,  в противном случае — **False**.  

Решение:
```python
middle = len(a) // 2
sum_right = sum(a[middle:])
sum_left = sum(a[:middle])
result = sum_right == sum_left
```

**Задание №14**

Даны список целых чисел **a** и число **b**. Удалите из **a** только первое и последнее вхождение числа **b**

Решение:
```python
a.remove(b)
a.reverse()
a.remove(b)
a.reverse()
```
</details>


<details>
  <summary>Словари</summary>
  

**Задание №1**

В переменную **cities_population**  сохраните словарь с тремя ключами: 'Москва', 'Париж', 'Токио'. В качестве значений сохраните населедение этих городов в млн. человек: 11.98, 2.16, 13.96. Ключами нашего словаря будут строки, значениями — числа в формате **float**.

Решение:
```python
cities_population = {'Москва': 11.98, 'Париж' : 2.16, 'Токио' : 13.96}
```

**Задание №2**

Дан словарь **dict_input**. Поменяйте ключи и значения местами. Результат сохраните в **result**. 

Решение:
```python
x = list(dict_input.values())
y = list(dict_input.keys())
result = dict(zip(x, y))
```

**Задание №3**

Катя — владелец небольшого кондитерского производства, на котором изготавливаются эклеры. 
У нас  есть словарь **data**, в котором содержится информация о себестоимости единицы товара **cost_price**, продажной цене **sell_price** и количество товара **eclairs**. 
Нужно посчитать, какую прибыль Катя получает после продажи своей продукции. Результат сохраните в переменную **result**, округлив сумму до целого числа.

Решение:
```python
cost = data.get('cost_price')
sell =  data.get('sell_price')
eclair = data.get('eclairs')
result = round(((sell - cost) * eclair), 0)
result
```

**Задание №4**

Есть словарь **student**, в котором хранятся имя студента и список его оценок. В **result**  сохраните словарь с именем студента и самой высокой его оценкой. 

Решение:
```python
max_note = max(student["notes"])
result = {'name' : student["name"], 'max_note': max_note}
```

**Задание №5**

Антон учится в **karpov.courses**. В словаре **anton_courses** хранится информация о завершенных им курсах и количестве набранных баллов. Данные в словаре хранятся в формате ключ — название курса, значение — количество баллов в числовом формате. 

Антон завершил обучение на курсе **HardML** и набрал 120 баллов. Добавьте в словарь **anton_courses** эту информацию. Ключ - строка с названием курса, значение - число баллов, целое число. 

В переменную courses сохраните список пройденных курсов. 

В переменную **StartML** сохраните количество баллов, набранное Антоном на одноименном курсе, эта информация есть в словаре. 

Решение:
```python
anton_courses.update({'HardML': 120})
courses = list(anton_courses.keys())
StartML = anton_courses['StartML']
```

**Задание №6**

У нас есть магазин одежды **LARA**. В словаре **shop_stock** хранится информация о товарах, имеющихся в наличии на складе магазина. Информация указана в формате ключ — артикул товара, значение — количество единиц. 
В магазин поставили новую партию товаров, в словаре shop_new_goods записана информация о поставленых товарах и их количестве. 
Создайте словарь **result**, который будет содержать информацию и о товарах на складе, и о товарах из новой поставки. Известно, что если на складе оставалась хотя бы одна единица какого-то типа товара, то товара этого типа не было в поставке. 

Решение:
```python
shop_stock.update(shop_new_goods)
result = shop_stock
```

**Задание №7**

Магазин ВкуссЧилл хранит информацию о имеющихся в наличии фруктах и овощах в словаре **input_dict** в формате ключ — название фрукта или овоща, значение — количество килограмм в наличии. Посчитайте, сколько всего килограммов фруктов и овощей имеется в магазине. Результат сохраните в переменную **result**.  

Решение:
```python
result = sum(list(input_dict.values()))
```

**Задание №8**

Имеется словарь **courses**, содержащий информацию о стоимости обучения в **karpov.courses** в формате:
ключ — название курса
значение — стоимость обучения

Найдите цену самого дорогого курса. Результат сохраните в  **result**. 

Решение:
```python
result = max(courses.values())
```

**Задание №9**

В базе данных МАИ информация о студентах и кафедрах, к которым они прикреплены, хранится в словаре **kaf_students** в формате: 
ключ — ФИ студента
значение — код кафедры. 

После второго курса по итогам последних двух сессий был составлен рейтинг студентов, на основе которого произошло перераспределение студентов по кафедрам. Часть студентов продолжила обучение на своей кафедре, а некоторые студенты перешли с одной кафедры на другую. Информация о студентах, перешедших на новую кафедру, хранится в словаре **new_kaf_students**. 

Обновите информацию в словаре **kaf_students**, добавив в словарь данные из **new_kaf_students**.

Решение:
```python
kaf_students.update(new_kaf_students)
result = kaf_students
```
</details>


<details>
  <summary>Строки</summary>


**Задание №1**

В переменных **str_1** и **str_2** сохранены две строки. Если все буквы в строках одинаковые, вам нужно сохранить в переменную **is_the_same_letters** значение **True**, если буквы в строках отличаются —сохраните в переменную значение **False**.

Мы не учитываем порядок букв, их количество и регистр. Сами переменные уже созданы, начинайте сразу готовить код для работы с ними.

Решение:
```python
set_1 = set(str_1.lower())
set_2 = set(str_2.lower())
is_the_same_letters = set_1 == set_2
```

**Задание №2**

В переменной **x** содержится число с десятичной частью но в формате строки. В переменную y сохраните целое число, которое равняется десятичной части числа **x**.

Решение:
```python
y = int(x.split('.')[1])
```

**Задание №3**

Даны две строки **str_1** и **str_2**. Сохраните в **result** **True**, если **str_1** является анаграммой **str_2**, и **False** в противном случае. Регистр букв (большая или маленькая буква) не должен влиять на работу программы. То есть 'Кот' и 'Ток' 'это валидная анаграмма.

Анаграмма — это слово или фраза, образованная путем перестановки букв другого слова или фразы, с использованием всех исходных букв ровно один раз.

Решение:
```python
result = set(list(str_1.lower())) == (set(list(str_2.lower()))) and len(str_1) == len(str_2) == len(set(list(str_2.lower()))) == len(set(list(str_1.lower())))
```

**Задание №4**

В переменную a сохранено некоторое предложение, в котором могут быть добавлены лишние пробелы.  Напишите программу, которая будет убирать из а лишние пробелы и сохранять результат в переменную **result**. 
Все слова должны быть разделены одним пробелом, а в начале и конце предложения пробелов быть не должно.

Решение:
```python
result = ' '.join(a.split())
```

**Задание №5**

Напишите программу, основываясь на вводе и выводе в примерах. Вводом будет строка **a**. Результат сохраните в **result**.  

Решение:
```python
b = a.split('*')[0]
c = int(a.split('*')[1])
e = f"<{b}></{b}>"
result  = e * c
```

**Задание №6**

Напишите программу, которая будет принимать строку из слов и возвращать строку, в которой эти слова будут отсортированы в лексикографическом порядке. Исходная строка содержится в переменной **x**, результат сохраните в **result**. 

Решение:
```python
result = ' '.join(sorted(x.split()))
```

**Задание №7**

Посчитайте, сколько раз в предложении x встречается строка **y**. Результат сохраните в переменную **result**. 

Решение:
```python
result = x.count(y)
```

**Задание №8**

Напишите программу, которая будет принимать номер кредитной карты **card** и возвращать номер карты, в котором будут видны только последние 4 цифры. Остальные цифры должны заменяться звездочками. Результат сохраните в **result**.

Решение:
```python
a = (len(card)) - 4
b = card[a:len(card)]
result = f"{'*' * a }{b}"
```

**Задание №9**

В переменной а сохранено предложение. Удалите из предложения все вхождения слова или символа **b**. Результат сохраните в **result**.  

Решение:
```python
result = a.replace(b, '')
```

</details>
</details>
<details>
<summary>Решение практических заданий из курса <a href="https://app.simulative.ru/profile/courses]">Pandas от Simulative </a>  </summary>

<details>
  <summary>Глава 1: Загружаем и обрабатываем данные</summary>

**Задание №1**

Загрузите этот файл в датафрейм Pandas (с именем df). Затем убедитесь, что:

- каждая переменная считалась в отдельный столбец
- все столбцы названы верно
- нет лишних строк
- затем сохраните в переменную df2 только последние 3 строки считанного датафрейма.

``` Python
import pandas as pd
df = pd.read_csv('itresume-users-pandas.csv', sep=';', skiprows=1)
df2 = df.tail(3)
```
---

**Задание №2**

Загрузите этот файл в датафрейм Pandas (с именем df). Сформируйте словарь params, который будет содержать информацию о датафрейме:

- список имен столбцов

- размер датафрейма

- форма датафрейма

``` Python
import pandas as pd
df = pd.read_csv('itresume-users-pandas.csv', sep=';', skiprows=1)
params = {
    'Имена столбцов': ['id', 'username', 'date_joined'],
    'Размер': 300,
    'Форма': (100, 3)
}
```
---

**Задание №3**

Создайте переменную are_types_equal, в которую запишите результат сравнения типа данных у столбцов username и date_joined.

``` Python
import pandas as pd

df = pd.read_csv('itresume-users-pandas.csv', sep=';', skiprows=1)

are_types_equal = (df['username'].dtype == df['date_joined'].dtype)
```
---

**Задание №4**

Создайте (или переопределите) переменную df таким образом, чтобы она содержала столбцы с названиями:


- user_id (ранее - id)

- created_at (ранее - date_joined)

- login (ранее - username)

Столбцы должны идти в заданном порядке и иметь именно такие названия.

``` Python
df = pd.read_csv('itresume-users-pandas.csv', sep=';', skiprows=1)
df.columns= ['user_id','login','created_at']
col = ['user_id','created_at','login']
df = df[col]
```
---

**Задание №5**

При выгрузке данных с нашего сервера произошли небольшие сбои, которые мы не успели пофиксить:


у некоторых имен пользователей в разные места логина добавились значки долларов

некоторые имена пользователей не прогрузились вообще

Вам необходимо создать (или переопределить) переменную df таким образом, чтобы она содержала исходный датафрейм, в котором нет строк с пропусками, а все знаки долларов просто удалены.

``` Python
import pandas as pd
df = pd.read_csv('itresume-users-pandas.csv', sep=';', skiprows=1)
df['username'] = df['username'].str.replace('$', '')
df = df.dropna()
```
---

**Задание №6**

Загрузите этот файл в датафрейм Pandas (с именем df). Однако, будьте осторожны - перед отправкой кода на проверку посмотрите на свой результат и убедитесь, что вы все загрузили корректно.

Сформируйте список dates, который будет содержать уникальные даты регистрации пользователей в формате YYYY-MM-DD.

``` Python
import pandas as pd

df = pd.read_csv('itresume-users-pandas.csv', sep=';', skiprows=1)

dates = list(pd.to_datetime(df['date_joined']).dt.date.unique())
dates = [dt.strftime("%Y-%m-%d") for dt in dates]
```
---

**Задание №7**

Создайте словарь registrations_by_weekday, который будет содержать информацию о дне недели и количестве зарегистрированных в этот день пользователей. Элементы словаря должны быть отсортированы по убыванию количества дней.

``` Python
import pandas as pd
df = pd.read_csv('itresume-users-pandas.csv', sep=';', skiprows=1)
from collections import Counter
import pandas as pd

df = pd.read_csv('itresume-users-pandas.csv', sep=';', skiprows=1)

days = pd.to_datetime(df['date_joined']).dt.day_name()
registrations_by_wd = dict(Counter(days))

registrations_by_weekday = dict(sorted(registrations_by_wd.items(), key=lambda x: x[1], reverse=True))
```
---




